<h1>{{typeName}}</h1>
<div class="p-grid">
  <div class="p-col">
    <p-checkbox label="Есть в наличии" [(ngModel)]="inStock" binary="true"></p-checkbox>
    <p></p>
    <p-button label="Click" (onClick)="sendRequest()"></p-button>
    <ul>
      <li *ngFor="let filterItem of filters">
        <div *ngIf="filterItem.filterType==='CHECKBOX'">
          <p-listbox [id]="filterItem.showName" [options]="filterItem.selectItem"
                     [ngModel]="selectedFilterMap.get(filterItem.filterKey)"
                     (ngModelChange)="selectedFilterMap.set(filterItem.filterKey, $event)"
                     [listStyle]="{'max-height':'150px'}"
                     [style]="{'width':'250px'}" [multiple]="true"
                     [checkbox]="true" [filter]="true">
            <p-header>{{filterItem.showName}}</p-header>
          </p-listbox>
        </div>
        <div *ngIf="filterItem.filterType==='RANGE'">
          <p-header>{{filterItem.showName}}</p-header>
          <p></p>
          <input type="text" [(ngModel)]="selectedFilterMap.get(filterItem.filterKey)[0]"
                 placeholder="От {{selectedFilterMap.get(filterItem.filterKey)[0]}}">
          <input type="text" [(ngModel)]="selectedFilterMap.get(filterItem.filterKey)[1]"
                 placeholder="До {{selectedFilterMap.get(filterItem.filterKey)[1]}}">
        </div>
        <div *ngIf="filterItem.filterType==='DROPDOWN'">
          <p-header>{{filterItem.showName}}</p-header>
          <p></p>
          <p-dropdown [options]="filterItem.selectItem" [ngModel]="selectedFilterMap.get(filterItem.filterKey)"
                      (ngModelChange)="selectedFilterMap.set(filterItem.filterKey, $event)"
                      [style]="{'min-width':'140px'}"
                      placeholder="{{filterItem.showName}}"></p-dropdown>
        </div>
      </li>
    </ul>
  </div>
  <div class="p-col-10">
    <p-dataView [value]="products" [paginator]="true" [rows]="50" layout="grid">
      <p-header>
        <div class="ui-helper-clearfix">
          <div class="p-grid">
            <div class="p-col-6 p-md-4 filter-container">
              <div style="text-align: center">List of Products</div>
            </div>
            <div class="p-col-6 p-md-4" style="text-align:right">
              <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
            </div>
          </div>
        </div>
      </p-header>
      <p-footer>Choose from the list.</p-footer>
      <ng-template let-product pTemplate="gridItem">
        <div class="ui-g-4" style="text-align: center">
          <img width="300" alt="img" class="img-responsive" src="{{'http://localhost:8082/images/' + product.productId}}">
          <div class="ui-g-12"><a
            href="/productPage/{{product.productId}}">{{product.brand.shortName + " " + product.model + " " + product.age}}</a>
          </div>
          <div class="ui-g-12"><b>{{product.minPrice}} ₽</b></div>
          <p-rating [ngModel]="product.rating.value" iconOnClass="pi pi-star" iconOffClass="pi pi-star-o" readonly="true" stars="5" [cancel]="false"></p-rating>
        </div>
      </ng-template>
    </p-dataView>
  </div>
</div>
